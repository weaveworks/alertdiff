## Introduction

`alertdiff` is a service that continuously compares the alerts
generated by a Prometheus-compatible implementation (e.g. [Weave
Cortex](https://github.com/weaveworks/cortex)) with a reference
Prometheus instance, and exports metrics which detail spurious or
missing alerts.

## Usage

* Deploy alertdiff
* Append e.g.
  `http://alertdiff:8080/expected/api/v1/alerts`
  to the `--alertmanager.url` of your reference Prometheus server
* Add `http://alertdiff:8080/actual/api/v1/alerts` as an alertmanager
  to Cortex
* Ensure both Prometheus & Cortex are configured with the same set of
  alerting rules and are receiving identical metrics

Then add some alert definitions based on the exported metrics:

```
ALERT AlertDiffMissingAlert
  IF alertdiff_missing_alert > 0
  FOR 1m

ALERT AlertDiffSpuriousAlert
  IF alertdiff_spurious_alert > 0
  FOR 1m
```

## <a name="help"></a>Getting Help

If you have any questions about, feedback for or problems with `alertdiff`:

* Invite yourself to the [Weave Users Slack](https://slack.weave.works).
* Ask a question on the [#general](https://weave-community.slack.com/messages/general) slack channel.
* [File an issue](https://github.com/weaveworks/alertdiff/issues/new).

Weaveworks follows the [CNCF Code of Conduct](https://github.com/cncf/foundation/blob/master/code-of-conduct.md). Instances of abusive, harassing, or otherwise unacceptable behavior may be reported by contacting a Weaveworks project maintainer, or Alexis Richardson (alexis@weave.works).

Your feedback is always welcome!
